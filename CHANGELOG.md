# Changelog

Все значимые изменения в проекте будут документироваться в этом файле.

Формат основан на [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
и этот проект придерживается [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [Unreleased]

### Added
- Начата разработка мобильного приложения:
  - Инициализирован React Native проект
  - Добавлен TypeScript шаблон
  - Подготовлена базовая структура
  - Настроено окружение для Android разработки:
    - Установлен Android Studio и SDK
    - Настроены переменные окружения
    - Добавлены скрипты проверки окружения
  - Создана базовая структура компонентов:
    - Добавлены UI компоненты (Button)
    - Добавлены общие компоненты (Screen)
    - Настроена система темизации
  - Реализована навигация:
    - Добавлен стек навигатор для авторизации
    - Добавлен таб навигатор для основных экранов
    - Созданы заглушки всех основных экранов
    - Настроены переходы между экранами
- Выполнена миграция мобильного приложения с React Native на Flutter:
  - Инициализирован Flutter проект
  - Настроена структура проекта в соответствии с архитектурными требованиями
  - Реализованы основные модели данных:
    - Order (заказ)
    - OrderItem (элемент заказа)
  - Реализованы основные экраны:
    - Экран авторизации
    - Список заказов
    - Детали заказа
    - Сканер штрих-кодов
  - Настроена навигация с использованием go_router
  - Реализованы сервисы для работы с API и локальным хранилищем
  - Добавлена поддержка сканирования штрих-кодов с использованием mobile_scanner
  - Настроена сборка для Android

### Changed
- Обновлена инструкция по тестированию мобильного приложения (`docs/mobile-testing.md`):
  - Удалены упоминания Expo
  - Добавлена подробная настройка окружения для React Native
  - Расширен раздел отладки и решения проблем
  - Добавлены инструкции по сборке release-версии
  - Добавлены команды для работы с ADB
  - Обновлены требования к системе
- Обновлены задачи для мобильного приложения в `docs/roadmap.md`:
  - Удалено упоминание локального хранилища из MVP-0 (перенесено в MVP-4)
  - Добавлено управление состоянием через Redux/Zustand
  - Уточнен фокус на онлайн-работе с API в первой фазе
- Обновлены правила в `docs/rules.md`:
  - Добавлено требование обновления CHANGELOG.md
  - Добавлен запрет на изменение структуры документации
  - Добавлены правила обновления документации
- Обновлен `docs/roadmap.md`:
  - Восстановлена оригинальная структура
  - Обновлены статусы задач без изменения структуры документа
- Реорганизована структура проекта:
  - Разделены клиентская и серверная части
  - Удалены устаревшие файлы из корневой директории
  - Перенесены конфигурационные файлы в соответствующие директории
- Изменена конфигурация Docker:
  - Заменен Nginx на Traefik для маршрутизации
  - Настроена интеграция сервисов через Docker network
  - Добавлены healthcheck для баз данных
- Обновлена документация для отражения миграции на Flutter:
  - Обновлен `docs/mobile-testing.md` с инструкциями для Flutter
  - Обновлен `docs/architecture.md` с описанием новой архитектуры
  - Обновлен `docs/technical-requirements.md` с новыми требованиями
  - Обновлен `docs/roadmap.md` с актуальным статусом задач
- Обновлены Docker-конфигурации для поддержки новой структуры проекта
- Обновлены зависимости проекта для совместимости с Flutter

### Fixed
- Исправлена ошибка с отсутствием импорта React в App.tsx
- Исправлены проблемы с конфигурацией Metro для алиасов
- Исправлена типизация fontWeight в HomeScreen.tsx (заменено typography.weights.bold на '700')
- Исправлены конфликты версий пакетов навигации
- Очищен репозиторий от неиспользуемых файлов
- Исправлена маршрутизация API запросов через Traefik
- Исправлены проблемы с конфигурацией Gradle для Android:
  - Добавлена поддержка namespace для плагинов
  - Настроены репозитории для buildscript
  - Обновлены версии зависимостей
- Исправлены проблемы совместимости библиотек:
  - Обновлен mobile_scanner до версии 6.0.7
  - Обновлен go_router до версии 12.1.3
  - Адаптирован код для работы с новыми API

### Technical
- Файлы:
  - Добавлены:
    - `/scripts/check-android-env.ps1` для проверки Android окружения
    - `/src/components/ui/Button.tsx` базовый компонент кнопки
    - `/src/components/shared/Screen.tsx` базовый компонент экрана
    - `/src/theme/` директория с настройками темизации
    - `/src/navigation/` директория с навигаторами
    - `/src/screens/` директория с экранами приложения
    - `/mobile_client/` директория с Flutter проектом
    - `/mobile_client/lib/modules/` модули приложения
    - `/mobile_client/lib/app/` основные компоненты приложения
    - `/mobile_client/lib/shared/` общие компоненты и утилиты
  - Обновлены:
    - `metro.config.js` для поддержки алиасов
    - `tsconfig.json` с настройками путей
    - `babel.config.js` для поддержки алиасов
    - `package.json` с обновленными зависимостями навигации
    - `mobile_client/android/build.gradle.kts` для исправления проблем с namespace
    - `mobile_client/pubspec.yaml` с актуальными зависимостями
  - Удалены:
    - `/src`
    - `/Dockerfile`
    - `/tsconfig.json`
    - `/tsconfig.server.json`
    - `/vite.config.ts`
    - `/index.html`
  - Перенесены в `/client` и `/server`:
    - Конфигурации TypeScript
    - Файлы сборки
    - Зависимости
    - Исходный код

### Status
- Успешно запускаются все компоненты системы:
  - Веб-клиент на React
  - Мобильное приложение на Flutter
  - Серверная часть
  - Docker-контейнеры

## [0.1.2] - 2024-03-07

### Added
- Создан базовый UI клиента на React с использованием Vite и Mantine
- Добавлены основные страницы: Dashboard, Orders, Products, Storage, Settings
- Настроена навигация между страницами
- Добавлен тестовый счетчик для проверки работоспособности
- Настроена базовая тема Mantine
- Добавлена конфигурация TypeScript для клиента и сервера:
  - Настроены компиляторы для клиента и сервера
  - Добавлены специфичные настройки для React
  - Настроена поддержка ESNext и DOM
- Реализованы мок API эндпоинты:
  - GET /api/health для проверки работоспособности
  - GET /api/metrics для получения метрик
  - GET /api/orders для списка заказов
  - GET /api/products для списка товаров
- Настроена интеграция клиента с API:
  - Добавлен API клиент с типизацией
  - Реализована загрузка и отображение реальных данных
  - Добавлена обработка ошибок и состояния загрузки
- Реализовано управление состоянием:
  - Добавлен Zustand для управления состоянием
  - Созданы хранилища для метрик, заказов и товаров
  - Реализована загрузка данных через API
  - Добавлена обработка ошибок и состояний загрузки
- Реализованы основные представления:
  - Таблица заказов с фильтрацией по статусам
  - Таблица товаров с индикацией остатков
  - Дашборд с основными метриками

## [0.1.1] - 2024-03-05

### Добавлено
- Создан репозиторий
- Добавлен README.md
- Инициализирован package.json

[Unreleased]: https://github.com/username/wb-assistant/compare/v0.1.2...HEAD
[0.1.2]: https://github.com/username/wb-assistant/compare/v0.1.1...v0.1.2
[0.1.1]: https://github.com/username/wb-assistant/releases/tag/v0.1.1 