# Тестовые сценарии

## 1. Интеграция с Wildberries API

### 1.1 Авторизация
- **Базовая авторизация**
  - Успешная авторизация с валидным токеном
  - Попытка авторизации с истекшим токеном
  - Попытка авторизации с невалидным токеном
  - Автоматическое обновление токена

- **Обработка ошибок**
  - Потеря соединения во время запроса
  - Превышение лимита запросов
  - Недоступность API
  - Таймаут запроса

### 1.2 Работа с заказами
- **Получение заказов**
  - Получение новых заказов
  - Получение заказов за период
  - Получение заказов с разными статусами
  - Обработка пустого ответа

- **Управление заказами**
  - Изменение статуса заказа
  - Отмена заказа
  - Получение стикеров
  - Массовое обновление статусов

### 1.3 Работа с поставками
- **Создание поставки**
  - Создание пустой поставки
  - Добавление заказов в поставку
  - Создание поставки с разными типами товаров
  - Валидация ограничений поставки

- **Управление поставкой**
  - Получение информации о поставке
  - Изменение статуса поставки
  - Получение QR-кодов
  - Закрытие поставки

## 2. Мобильное приложение

### 2.1 Авторизация и безопасность
- **Вход в систему**
  - Успешная авторизация
  - Неверные учетные данные
  - Блокировка после неудачных попыток
  - Восстановление доступа

- **Сессии**
  - Сохранение сессии
  - Автоматический выход
  - Принудительный выход
  - Одновременные сессии

### 2.2 Сборка заказов
- **Получение заданий**
  - Получение списка заданий
  - Фильтрация по статусу
  - Сортировка по приоритету
  - Обновление списка

- **Процесс сборки**
  - Начало сборки
  - Сканирование товаров
  - Подтверждение сборки
  - Отмена сборки

### 2.3 Offline режим
- **Базовая функциональность**
  - Работа без интернета
  - Кэширование данных
  - Очередь операций
  - Синхронизация при восстановлении связи

- **Конфликты**
  - Параллельные изменения
  - Устаревшие данные
  - Разрешение конфликтов
  - Приоритет серверных данных

### 2.4 Печать
- **Управление принтером**
  - Подключение к принтеру
  - Печать этикетки
  - Очередь печати
  - Обработка ошибок печати

## 3. Веб-приложение

### 3.1 Управление пользователями
- **Администрирование**
  - Создание пользователя
  - Изменение прав доступа
  - Блокировка пользователя
  - Аудит действий

- **Роли и права**
  - Назначение ролей
  - Проверка ограничений
  - Наследование прав
  - Кастомные роли

### 3.2 Управление складом
- **Товары**
  - Добавление товара
  - Перемещение товара
  - Списание товара
  - Инвентаризация

- **Ячейки**
  - Создание ячейки
  - Назначение товаров
  - Оптимизация размещения
  - Поиск товаров

### 3.3 Управление поставками
- **Формирование поставок**
  - Создание поставки
  - Добавление заказов
  - Проверка ограничений
  - Печать документов

- **Контроль сборки**
  - Назначение сборщиков
  - Отслеживание прогресса
  - Обработка проблем
  - Подтверждение готовности

## 4. Система реквестов

### 4.1 Создание реквестов
- **Базовые операции**
  - Создание реквеста
  - Назначение исполнителя
  - Установка приоритета
  - Добавление данных

- **Валидация**
  - Обязательные поля
  - Бизнес-правила
  - Права доступа
  - Дублирование реквестов

### 4.2 Обработка реквестов
- **Жизненный цикл**
  - Смена статусов
  - Выполнение действий
  - Проверка результатов
  - Отмена реквеста

- **Приоритизация**
  - Расчет приоритета
  - Изменение приоритета
  - Очередь выполнения
  - Конкурентные реквесты

## 5. Производительность

### 5.1 Нагрузочное тестирование
- **API**
  - Параллельные запросы
  - Длительные операции
  - Пиковые нагрузки
  - Стабильность работы

- **База данных**
  - Большие объемы данных
  - Сложные запросы
  - Блокировки и очереди
  - Репликация данных

### 5.2 Мониторинг
- **Метрики**
  - Время отклика
  - Использование ресурсов
  - Ошибки и исключения
  - Бизнес-показатели

- **Оповещения**
  - Критические события
  - Пороговые значения
  - Эскалация проблем
  - Автоматические действия

## 6. Безопасность

### 6.1 Аутентификация
- **Методы входа**
  - Логин/пароль
  - Двухфакторная аутентификация
  - Токены доступа
  - SSO

- **Защита**
  - Защита от брутфорса
  - Сложность паролей
  - Хранение учетных данных
  - Журналирование доступа

### 6.2 Данные
- **Защита данных**
  - Шифрование в покое
  - Шифрование при передаче
  - Бэкапы
  - Восстановление данных

- **Доступ**
  - Разграничение доступа
  - Аудит действий
  - Защита от утечек
  - Контроль целостности

# Тестирование системы

## 1. Мок API Wildberries

### 1.1. Общие принципы
- Имитация всех используемых эндпоинтов WB API
- Генерация реалистичных тестовых данных
- Конфигурируемые задержки и ошибки
- Подробное логирование для отладки

### 1.2. Тестовые данные
- Заказы:
  ```json
  {
    "order": {
      "id": "TEST_123456789",
      "article": "KIGU_DINO",
      "salePrice": 4000,
      "discountPercent": 68,
      "warehouseName": "Электросталь",
      "deliveryType": "fbs"
    }
  }
  ```
- Статистика продаж
- Остатки товаров
- Карточки товаров

### 1.3. Сценарии тестирования
- Нормальный поток работы
- Обработка ошибок:
  - 429 (Rate Limiting)
  - 500 (Server Error)
  - Таймауты
  - Некорректные данные
- Граничные случаи:
  - Большие объемы данных
  - Пустые ответы
  - Дубликаты заказов

### 1.4. Конфигурация
- Настройка задержек
- Процент ошибок
- Сценарии поведения
- Форматы данных 